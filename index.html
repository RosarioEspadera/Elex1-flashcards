<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elex1 Flashcards</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles-Electronics1/main.css" />
  <link rel="manifest" href="manifest.json">

  
</head>
<body>
  <header>
    <h1>Elex1 Flashcards</h1>
     <nav class="top-nav">
    <a href="index.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
</svg>
</a>
    <a href="solving.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
</svg>
</a>
<a href="pdf-viewer/web/viewer.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
</svg>
</a>
 <a href="guide.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
</svg>
      </a>
    </nav>
  </header>
<section>
    <div>
      <button id="updateCheckBtn">ğŸ”„ Check for Updates</button>
      <button id="installBtn" style="display:none;">Install App</button></div>
</section>
  <section class="topics-grid">
  <div class="topic-card" data-topic="dc-math">ğŸ“Š DC Math</div>
  <div class="topic-card" data-topic="dc-ohms-law">ğŸ§® Ohmâ€™s Law</div>
  <div class="topic-card" data-topic="electrical-properties">âš¡ Electrical Properties</div>
  <div class="topic-card" data-topic="resistance">ğŸŒ€ Resistance</div>
  <div class="topic-card" data-topic="safety">ğŸ›¡ï¸ Safety</div>
  <div class="topic-card" data-topic="diodes">ğŸ”Œ Diodes</div>
  <div class="topic-card" data-topic="bjts">âš™ï¸ BJTs</div>
  <div class="topic-card" data-topic="fets">ğŸ“ FETs</div>
  <div class="topic-card" data-topic="amplifiers">ğŸ“¢ Amplifiers</div>
  <div class="topic-card" data-topic="biasing">ğŸ›ï¸ Biasing</div>
  <div class="topic-card" data-topic="power-supplies">ğŸ”‹ Power Supplies</div>
  <div class="topic-card" data-topic="combinational">Combinational</div>
  <div class="topic-card" data-topic="fundamentals">Fundamentals</div>
  <div class="topic-card" data-topic="introsemiconductors">Introduction of Semiconductor</div>
  <div class="topic-card" data-topic="semiconductor-diodes">Semiconductor Diodes</div> 
  <div class="topic-card" data-topic="special-diodes-and-applications">Special Diodes and Applications</div>
</section>


  <section class="flashcard-viewer hidden">
    <div class="flashcard">
      <div class="front"></div>
      <div class="back"></div>
    </div>
    <button id="prev" type="button" aria-label="Previous">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<button id="next" type="button" aria-label="Next">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

  </section>

  <section class="progress">
    <p id="progress-info">Select a topic to begin.</p>
  </section>
  <div id="progress-container" style="width: 100%; background: #eee; border-radius: 8px;">
  <div id="progress-bar" style="width: 0%; background: #6b4f3b; color: white; padding: 5px; border-radius: 8px;">
    Downloading: 0%
  </div>
</div>







  <footer>
    <p>Built by Rosario Espadera</p>
  </footer>
  <script type="module">
  import { openDB } from 'https://unpkg.com/idb@7/build/esm/index.js';
  window.openDB = openDB;
</script>

    <script type="module" src="scripts-Electronics1/main.js"></script>
    <script type="module" src="scripts-Electronics1/dataLoader.js"></script>
    
    <script>
  navigator.serviceWorker.addEventListener('controllerchange', () => {
  console.log('Service worker now controlling the page');
  location.reload(); // optional: reload to activate message handling
});

navigator.serviceWorker.addEventListener('message', event => {
  if (event.data.type === 'download-progress') {
    const { downloaded, total } = event.data;
    const percent = Math.round((downloaded / total) * 100);
    const bar = document.getElementById('progress-bar');
    bar.style.width = percent + '%';
    bar.textContent = `Downloading: ${percent}%`;

    if (percent === 100) {
      showToast('âœ… All files downloaded. Ready for offline use!');
    }
  }
});

if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js');
}

  function showToast(message) {
    const toast = document.createElement('div');
    toast.textContent = message;
    toast.style.position = 'fixed';
    toast.style.bottom = '20px';
    toast.style.left = '50%';
    toast.style.transform = 'translateX(-50%)';
    toast.style.background = '#6b4f3b';
    toast.style.color = '#fff';
    toast.style.padding = '10px 20px';
    toast.style.borderRadius = '8px';
    toast.style.boxShadow = '0 2px 6px rgba(0,0,0,0.2)';
    toast.style.zIndex = '1000';
    document.body.appendChild(toast);

    setTimeout(() => toast.remove(), 5000);
  }
</script>

    
    <script>


      self.addEventListener('install', event => {
  event.waitUntil(
    caches.open('elex-cache-v1').then(cache => {
      return cache.addAll(filesToCache);
    })
  );
});

  let deferredPrompt;
  const installBtn = document.getElementById('installBtn');

  window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.style.display = 'block';
});

installBtn.addEventListener('click', () => {
  installBtn.style.display = 'none';
  if (deferredPrompt) {
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(() => {
      deferredPrompt = null;
    });
  }
});

</script>
<button onclick="cacheAllFiles('/assets-manifest.json')">ğŸ“¥ Download Materials</button>

<script type="module" src="scripts-Electronics1/app.js"></script>
</body>
</html>
